{% extends "base.html" %}

{% block title %}Add Employee | Employee Skills Tracker{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/employee_form.css') }}">
{% endblock %}

{% block content %}
<div class="form-container">
    <h1><i class="fas fa-user-plus"></i> Add New Employee</h1>
    
    {% include '_flash_messages.html' %}
    
    <form method="POST" action="{{ url_for('add_employee') }}" id="employee-form">
        <div class="form-section">
            <h2><i class="fas fa-id-card"></i> Basic Information</h2>
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="department">Department</label>
                <select id="department" name="department" required>
                    <option value="">Select a department</option>
                    {% for dept in departments %}
                    <option value="{{ dept }}">{{ dept }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        
        <div class="form-section">
            <h2><i class="fas fa-cogs"></i> Technical Skills</h2>
            <div class="skills-group">
                <div class="skill-input">
                    <input type="text" class="skill-text" placeholder="Skill name">
                    <button type="button" class="add-skill" data-skill-type="technical">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="skills-container" id="technical-skills-container"></div>
            </div>
        </div>
        
        <div class="form-section">
            <h2><i class="fas fa-briefcase"></i> Business Skills</h2>
            <div class="skills-group">
                <div class="skill-input">
                    <input type="text" class="skill-text" placeholder="Skill name">
                    <button type="button" class="add-skill" data-skill-type="business">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="skills-container" id="business-skills-container"></div>
            </div>
        </div>
        
        <div class="form-section">
            <h2><i class="fas fa-language"></i> Languages</h2>
            <div class="language-group">
                <div class="language-input">
                    <input type="text" class="language-name" placeholder="Language">
                    <select class="language-level">
                        <option value="">Proficiency</option>
                        <option value="Basic">Basic</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Fluent">Fluent</option>
                        <option value="Native">Native</option>
                    </select>
                    <button type="button" class="add-language">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="languages-container" id="languages-container"></div>
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Save Employee
            </button>
            <a href="{{ url_for('list_employees') }}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>

<script src="{{ url_for('static', filename='js/employee_form.js') }}"></script>
{% endblock %}