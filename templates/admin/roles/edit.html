{% extends 'base.html' %}
{% block content %}
<h2>Edit Role: {{ role.role_name }}</h2>
<form method="post" class="edit-role-form">
  <div class="form-group">
    <label for="role_name">Role Name</label>
    <input type="text" name="role_name" id="role_name" value="{{ role.role_name }}" required class="form-input">
  </div>
  <div class="form-group">
    <label>Permissions</label><br>
    <div class="perm-tag-list">
      {% for perm in permissions %}
        <label class="perm-tag-checkbox">
          <input type="checkbox" name="permissions" value="{{ perm.permission_id }}" {% if perm in role.permissions %}checked{% endif %}>
          <span class="perm-tag">{{ perm.permission_name }}</span>
        </label>
      {% endfor %}
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Save Changes</button>
  <a href="{{ url_for('user.list_roles') }}" class="btn btn-secondary">Cancel</a>
</form>
<style>
.edit-role-form {
  max-width: 500px;
  margin: 30px auto;
  background: #fff;
  padding: 2rem 2.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.07);
}
.edit-role-form h2 {
  text-align: center;
  margin-bottom: 1.5rem;
}
.edit-role-form .form-group {
  margin-bottom: 1.2rem;
}
label {
  display: block;
  margin-bottom: 0.4rem;
  font-weight: 500;
}
input[type="text"] {
  width: 100%;
  padding: 0.6rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 1rem;
}
.perm-tag-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.perm-tag-checkbox {
  display: flex;
  align-items: center;
  margin-bottom: 6px;
  margin-right: 10px;
}
.perm-tag-checkbox input[type="checkbox"] {
  margin-right: 6px;
  accent-color: #217a3a;
}
.perm-tag {
  display: inline-block;
  background: #eafaf1;
  color: #217a3a;
  border-radius: 8px;
  padding: 3px 10px;
  font-size: 0.98em;
  font-weight: 600;
  border: 1px solid #b6e2d3;
}
.btn {
  padding: 0.7rem 1.2rem;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  margin-right: 0.5rem;
}
.btn-primary { background: #217a3a; color: #fff; border: none; }
.btn-primary:hover { background: #195e2d; }
.btn-secondary { background: #eee; color: #333; border: none; }
</style>
{% endblock %} 